{% extends "base.html" %}

{% block content %}
<div class="container page-title">
    <h3>Account Overview</h3>
</div>

<!-- Account Balance and Buttons -->
<div class="row mb-4">
    <div class="col-md-6">
        <div class="balance-box">
            <h5 class="balance-title">Account Balance</h5>
            <div class="d-flex justify-content-between align-items-center">
                <i class="bi bi-wallet2 balance-icon"></i>
                <p class="balance-amount mb-0">$1,234.56</p>
            </div>
        </div>
    </div>
    <div class="col-md-6 d-flex justify-content-end align-items-center">
        <button class="btn btn-primary btn-lg btn-xl me-2">
            <i class="bi bi-bell"></i> Notifications
        </button>
        <button class="btn btn-success btn-lg btn-xl">
            <i class="bi bi-plus-circle"></i> Create Payment
        </button>
    </div>
</div>
<!-- Fancy Divider -->
<hr style="margin: 2rem 0; opacity: 0;"/>
<!-- Recent Transactions -->
<div class="mb-4">
    <h3>Recent Transactions</h3>
    <div class="transaction-list">
        <div class="initial-transactions">
            <div class="transaction-item" data-date="2023-05-01" data-description="Grocery Store"
                 data-amount="-$50.00" data-category="Food">
                <span class="date">2023-05-01</span>
                <span class="description">Grocery Store</span>
                <span class="amount">-$50.00</span>
                <span class="info-icon"><i class="bi bi-info-circle"></i></span>
            </div>
            <div class="transaction-item" data-date="2023-05-02" data-description="Salary"
                 data-amount="+$2,000.00" data-category="Income">
                <span class="date">2023-05-02</span>
                <span class="description">Salary</span>
                <span class="amount">+$2,000.00</span>
                <span class="info-icon"><i class="bi bi-info-circle"></i></span>
            </div>
            <div class="transaction-item" data-date="2023-05-03" data-description="Restaurant"
                 data-amount="-$30.00" data-category="Food">
                <span class="date">2023-05-03</span>
                <span class="description">Restaurant</span>
                <span class="amount">-$30.00</span>
                <span class="info-icon"><i class="bi bi-info-circle"></i></span>
            </div>
        </div>
        <div class="additional-transactions">
            <div class="transaction-item" data-date="2023-05-02" data-description="Salary"
                 data-amount="+$2,000.00" data-category="Income">
                <span class="date">2023-05-02</span>
                <span class="description">Salary</span>
                <span class="amount">+$2,000.00</span>
                <span class="info-icon"><i class="bi bi-info-circle"></i></span>
            </div>
            <div class="transaction-item" data-date="2023-05-03" data-description="Restaurant"
                 data-amount="-$30.00" data-category="Food">
                <span class="date">2023-05-03</span>
                <span class="description">Restaurant</span>
                <span class="amount">-$30.00</span>
                <span class="info-icon"><i class="bi bi-info-circle"></i></span>
            </div>
        </div>
        <div class="additional-transactions">
            <div class="transaction-item" data-date="2023-05-04" data-description="Gas Station"
                 data-amount="-$30.00" data-category="Transportation">
                <span class="date">2023-05-04</span>
                <span class="description">Gas Station</span>
                <span class="amount">-$30.00</span>
                <span class="info-icon"><i class="bi bi-info-circle"></i></span>
            </div>
            <div class="transaction-item" data-date="2023-05-05" data-description="Online Shopping"
                 data-amount="-$100.00" data-category="Shopping">
                <span class="date">2023-05-05</span>
                <span class="description">Online Shopping</span>
                <span class="amount">-$100.00</span>
                <span class="info-icon"><i class="bi bi-info-circle"></i></span>
            </div>
            <div class="transaction-item" data-date="2023-05-06" data-description="Utility Bill"
                 data-amount="-$75.00" data-category="Bills">
                <span class="date">2023-05-06</span>
                <span class="description">Utility Bill</span>
                <span class="amount">-$75.00</span>
                <span class="info-icon"><i class="bi bi-info-circle"></i></span>
            </div>
        </div>
    </div>
    <a id="view-transactions-btn" class="btn btn-outline-primary" href="#">View More</a>
</div>
{% endblock %}

{% block modals %}
<!-- Transaction Modal -->
<div class="modal fade" id="transactionModal" tabindex="-1" aria-labelledby="transactionModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="transactionModalLabel">Transaction Details</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p><strong>Date:</strong> <span id="modal-date"></span></p>
                <p><strong>Description:</strong> <span id="modal-description"></span></p>
                <p><strong>Amount:</strong> <span id="modal-amount"></span></p>
                <p><strong>Category:</strong> <span id="modal-category"></span></p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
    // "View More" Button
    $('#view-transactions-btn').on('click', function (e) {
        e.preventDefault();
        $('.additional-transactions').slideDown(500);
        $(this).text('View All').attr('href', '#transactions-page');
    });

    // Transaction Modal
    $('.transaction-item').on('click', function () {
        const date = $(this).data('date');
        const description = $(this).data('description');
        const amount = $(this).data('amount');
        const category = $(this).data('category');
        $('#modal-date').text(date);
        $('#modal-description').text(description);
        $('#modal-amount').text(amount);
        $('#modal-category').text(category);
        $('#transactionModal').modal('show');
    });
</script>
{% endblock %}